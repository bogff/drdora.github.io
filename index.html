<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∞—à–∞ üíñ</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

  body {
    margin: 0;
    overflow: hidden;
    height: 100vh;
    font-family: 'Poppins', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background:
      linear-gradient(135deg, rgba(28,28,28,0.7), rgba(43,43,43,0.7)),
      url('images/dasha_bg.jpg') no-repeat center center / cover;
    position: relative;
    color: white;
  }

  h1 {
    position: absolute;
    top: 10%;
    font-size: 3em;
    text-align: center;
    color: #ff99cc;
    text-shadow: 0 0 10px #ff66cc, 0 0 30px #ff66ff;
    opacity: 0;
    animation: fadeIn 3s forwards;
  }
  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }

  #playButton {
    padding: 15px 40px;
    font-size: 1.3em;
    border: none;
    border-radius: 25px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
    color: #fff;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(255, 102, 204, 0.6);
    transition: 0.3s;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }
  #playButton:hover {
    transform: translateY(-50%) scale(1.1);
    box-shadow: 0 0 40px rgba(255, 102, 204, 0.9);
  }

  /* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞ ‚Äî –∫—Ä—É–≥–∏ –≤–æ–∫—Ä—É–≥ —Ü–µ–Ω—Ç—Ä–∞ —Å –±–ª–∏–∫–∞–º–∏ */
  #equalizer {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 350px;
    height: 350px;
    transform: translate(-50%, -50%);
    pointer-events: none;
  }

  .circle {
    position: absolute;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,182,193,0.3));
    box-shadow:
      0 0 15px rgba(255,182,193,0.7),
      0 0 30px rgba(255,105,180,0.5),
      inset 0 0 5px rgba(255,255,255,0.6);
    transition: transform 0.1s ease, opacity 0.1s ease;
    mix-blend-mode: screen;
  }

  /* –§–æ—Ç–æ –î–∞—à–∏ */
  .photo {
    position: absolute;
    width: 140px;
    height: 140px;
    border-radius: 20px;
    object-fit: cover;
    pointer-events: none;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 25px rgba(255,102,204,0.8), 0 0 50px rgba(255,102,255,0.5);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  footer {
    position: absolute;
    bottom: 20px;
    text-align: center;
    font-size: 14px;
    color: #ff99cc;
  }

  footer a {
    color: #ff66cc;
    text-decoration: none;
    margin: 0 6px;
  }
</style>
</head>
<body>

<h1>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∞—à–∞ üéÇüí´</h1>
<button id="playButton">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –º—É–∑—ã–∫—É üéµ</button>
<audio id="bgm" loop>
  <source src="music/papa_temnogo_princa.mp3" type="audio/mpeg" />
</audio>
<div id="equalizer"></div>
<footer>
  designed by <b>prostozhenyaaa</b><br />
  <a href="#">Instagram</a> | <a href="#">VK</a> | <a href="#">Telegram</a>
</footer>

<script>
  const photos = [
    "images/dasha1.jpg",
    "images/dasha2.jpg",
    "images/dasha3.jpg",
    "images/dasha4.jpg",
  ];

  const equalizer = document.getElementById("equalizer");
  const bgm = document.getElementById("bgm");
  const playButton = document.getElementById("playButton");

  // –°–æ–∑–¥–∞–µ–º –∫—Ä—É–≥–∏ –¥–ª—è —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞
  const circles = [];
  const numCircles = 30; // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É–≥–æ–≤

  for (let i = 0; i < numCircles; i++) {
    const circle = document.createElement("div");
    circle.classList.add("circle");
    equalizer.appendChild(circle);
    circles.push(circle);
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞ —Å –∫—Ä—É–≥–∞–º–∏ –∏ –±–ª–∏–∫–∞–º–∏
  function animateEqualizer() {
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const source = audioCtx.createMediaElementSource(bgm);
    const analyser = audioCtx.createAnalyser();
    analyser.fftSize = 128;
    source.connect(analyser);
    analyser.connect(audioCtx.destination);

    const dataArray = new Uint8Array(analyser.frequencyBinCount);

    function renderFrame() {
      requestAnimationFrame(renderFrame);
      analyser.getByteFrequencyData(dataArray);

      circles.forEach((circle, i) => {
        // –ó–Ω–∞—á–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä—É–≥–∞
        const value = dataArray[i % dataArray.length];

        // –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫—Ä—É–≥–æ–≤ –ø–æ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ —Å —Ä–∞–¥–∏—É—Å–æ–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–º –¥–≤–∏–∂–µ–Ω–∏—è
        const angle = (i / numCircles) * 2 * Math.PI + performance.now() / 2000;
        const radius = 100 + value; // —Ä–∞–¥–∏—É—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç–∏

        const x = Math.cos(angle) * radius;
        const y = Math.sin(angle) * radius;

        // –ú–∞—Å—à—Ç–∞–± –∫—Ä—É–≥–∞ –ø–æ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (–ø—É–ª—å—Å–∞—Ü–∏—è)
        const scale = 0.4 + (value / 255) * 1.4;

        // –¶–≤–µ—Ç —Å –ª—ë–≥–∫–∏–º –æ—Ç—Ç–µ–Ω–∫–æ–º —Ä–æ–∑–æ–≤–æ–≥–æ, –±–ª–∏–∫–∞–º–∏ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
        const r = 255;
        const g = 105 + Math.floor(value / 3);
        const b = 180 + Math.floor(value / 4);

        circle.style.transform = `translate(${x}px, ${y}px) scale(${scale})`;
        circle.style.opacity = 0.35 + value / 255 * 0.65;
        circle.style.background = `radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(${r},${g},${b},0.25))`;
        circle.style.boxShadow = `0 0 ${10 + value / 5}px rgba(${r},${g},${b},0.6), 0 0 ${25 + value / 2}px rgba(${r},${g},${b},0.4), inset 0 0 7px rgba(255,255,255,0.7)`;
      });
    }
    renderFrame();
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è —Ñ–æ—Ç–æ –î–∞—à–∏ (–æ—Å—Ç–∞–≤–ª—è–µ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
  function easeOutQuad(t) {
    return t * (2 - t);
  }
  function easeInQuad(t) {
    return t * t;
  }

  function spawnPhoto() {
    const photo = document.createElement("img");
    photo.src = photos[Math.floor(Math.random() * photos.length)];
    photo.classList.add("photo");
    photo.style.left = 50 + Math.random() * (window.innerWidth - 100) + "px";
    document.body.appendChild(photo);

    let start = Date.now();
    const duration = 3500 + Math.random() * 2000;
    const startY = -250;
    const endY = window.innerHeight / 2 - 70;
    const maxScale = 1.5 + Math.random() * 0.5;

    function animatePhoto() {
      const now = Date.now();
      const t = (now - start) / duration;
      if (t < 1) {
        const y = startY + (endY - startY) * easeOutQuad(t);
        const scale = 1 + (maxScale - 1) * easeOutQuad(t);
        const rotate = t * 720;
        const opacity = Math.sin(t * Math.PI);
        photo.style.transform = `translate(-50%, ${y}px) scale(${scale}) rotate(${rotate}deg)`;
        photo.style.opacity = opacity;
        requestAnimationFrame(animatePhoto);
      } else {
        start = Date.now();
        const currentScale = maxScale;
        const currentY = endY;
        function returnAnimate() {
          const t2 = (Date.now() - start) / duration;
          if (t2 < 1) {
            const y = currentY - (currentY - startY) * easeInQuad(t2);
            const scale = currentScale - (currentScale - 1) * easeInQuad(t2);
            const rotate = 720 + t2 * 720;
            const opacity = Math.cos((t2 * Math.PI) / 2);
            photo.style.transform = `translate(-50%, ${y}px) scale(${scale}) rotate(${rotate}deg)`;
            photo.style.opacity = opacity;
            requestAnimationFrame(returnAnimate);
          } else {
            photo.remove();
          }
        }
        returnAnimate();
      }
    }
    animatePhoto();
  }

  // –ó–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏, —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞ –∏ —Ñ–æ—Ç–æ
  let audioStarted = false;
  playButton.addEventListener("click", () => {
    bgm.play().then(() => {
      if (!audioStarted) {
        animateEqualizer();
        setInterval(spawnPhoto, 1500);
        audioStarted = true;
      }
      playButton.style.display = "none";
    }).catch(err => console.error("–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∞—É–¥–∏–æ:", err));
  });
</script>

</
